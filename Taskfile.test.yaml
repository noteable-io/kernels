version: 3

vars:
  NBL_PYTHON_VERSION: 3.9
  IDENTIFIER: base

tasks:
  bottom:
    cmds:
      - echo "bottom NBL_PYTHON_VERSION={{.NBL_PYTHON_VERSION}}"
      - echo "bottom IDENTIFIER={{.IDENTIFIER}}"

  middle:
    deps: [bottom]

  top-empty:
    deps: [middle]

  top-version:
    cmds:
      - task test:middle
      - echo "top NBL_PYTHON_VERSION={{.NBL_PYTHON_VERSION}}"
      - echo "top IDENTIFIER={{.IDENTIFIER}}"
    vars:
      NBL_PYTHON_VERSION: 3.11111
